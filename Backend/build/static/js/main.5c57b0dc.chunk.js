(this["webpackJsonpcrowd-detection-react"]=this["webpackJsonpcrowd-detection-react"]||[]).push([[0],{24:function(e,t,a){},35:function(e,t,a){e.exports=a.p+"static/media/logo.3a484a30.png"},38:function(e,t,a){e.exports=a(57)},43:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(16),c=a.n(r),i=(a(43),a(31)),l=a(32),u=a(36),s=a(37),d=(a(24),a(27)),m=a(22),p=a(29),g=a(26),h=a(25),E=a(28),f=a(33),b=a.n(f),v=a(35),y=a.n(v);var w=function(e){return o.a.createElement("div",{className:"loading"},o.a.createElement("div",{className:"centered-div"},o.a.createElement("img",{src:y.a,className:"logo",alt:"logo"})))};var L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={currentLatitude:0,currentLongitude:0,data:[],isLoaded:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){console.log("Latitude is :",t.coords.latitude),console.log("Longitude is :",t.coords.longitude),e.setState({currentLatitude:t.coords.latitude,currentLongitude:t.coords.longitude})})),fetch("/api/v1/count").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,data:t.data})}),(function(t){console.log(t),e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){return console.log(this.state.data),this.state.isLoaded?o.a.createElement(d.a,{center:[12.9721,77.5933],zoom:17,maxZoom:19},o.a.createElement(m.b,null,o.a.createElement(m.b.BaseLayer,{name:"Mapnik (Light)"},o.a.createElement(p.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 CrowdDistance, <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})),o.a.createElement(m.b.BaseLayer,{name:"Carto (Dark)",checked:!0},o.a.createElement(p.a,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'\xa9 CrowdDistance, <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>'})),o.a.createElement(m.b.Overlay,{name:"Heatmap"},o.a.createElement(b.a,{points:this.state.data,maxZoom:20,longitudeExtractor:function(e){return e.longitude},latitudeExtractor:function(e){return e.latitude},intensityExtractor:function(e){return parseFloat(e.peopleCount)},gradient:{.4:"blue",.8:"orange",1:"red"},max:8})),o.a.createElement(m.b.Overlay,{name:"Circle",checked:!0},o.a.createElement(g.a,null,this.state.data.map((function(e){return o.a.createElement(h.a,{key:e.cctvId,center:[e.latitude,e.longitude],radius:15,color:(t=e.peopleCount,t<30?"blue":t<50&&t>30?"yellow":t<100&&t>50?"orange":"red")},o.a.createElement(E.a,null,o.a.createElement("span",null,"People count: ",e.peopleCount)));var t})))))):o.a.createElement(w,{className:"loading"})}}]),a}(o.a.Component);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.5c57b0dc.chunk.js.map