(this["webpackJsonpcrowd-detection-react"]=this["webpackJsonpcrowd-detection-react"]||[]).push([[0],{36:function(t,e,a){t.exports=a(56)},41:function(t,e,a){},42:function(t,e,a){},56:function(t,e,a){"use strict";a.r(e);var n=a(3),r=a.n(n),o=a(16),c=a.n(o),i=(a(41),a(30)),l=a(31),s=a(34),u=a(35),d=(a(42),a(26)),p=a(22),m=a(28),h=a(25),g=a(24),f=a(27),b=a(32),E=a.n(b);var y=function(t){Object(u.a)(a,t);var e=Object(s.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={currentLatitude:0,currentLongitude:0,data:[],isLoaded:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){console.log("Latitude is :",e.coords.latitude),console.log("Longitude is :",e.coords.longitude),t.setState({currentLatitude:e.coords.latitude,currentLongitude:e.coords.longitude})})),fetch("/api/v1/count").then((function(t){return t.json()})).then((function(e){t.setState({isLoaded:!0,data:e.data})}),(function(e){console.log(e),t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){return console.log(this.state.data),r.a.createElement(d.a,{center:[12.9721,77.5933],zoom:17,maxZoom:19},r.a.createElement(p.b,null,r.a.createElement(p.b.BaseLayer,{name:"Stadia (Compact)",checked:!0},r.a.createElement(m.a,{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'\xa9 CrowdDistance, <a href="https://stadiamaps.com/">Stadia Maps</a>, \xa9 <a href="https://openmaptiles.org/">OpenMapTiles</a> \xa9 <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})),r.a.createElement(p.b.BaseLayer,{name:"Mapnik (Light)"},r.a.createElement(m.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 CrowdDistance, <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})),r.a.createElement(p.b.BaseLayer,{name:"Carto (Dark)"},r.a.createElement(m.a,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'\xa9 CrowdDistance, <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>'})),r.a.createElement(p.b.Overlay,{name:"Heatmap",checked:!0},r.a.createElement(E.a,{points:this.state.data,maxZoom:20,longitudeExtractor:function(t){return t.longitude},latitudeExtractor:function(t){return t.latitude},intensityExtractor:function(t){return parseFloat(t.peopleCount)},gradient:{.4:"blue",.8:"orange",1:"red"},max:8})),r.a.createElement(p.b.Overlay,{name:"Circle"},r.a.createElement(h.a,null,this.state.data.map((function(t){return r.a.createElement(g.a,{key:t.cctvId,center:[t.latitude,t.longitude],radius:15,color:(e=t.peopleCount,e<30?"blue":e<50&&e>30?"yellow":e<100&&e>50?"orange":"red")},r.a.createElement(f.a,null,r.a.createElement("span",null,"People count: ",t.peopleCount)));var e}))))))}}]),a}(r.a.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.6e8f24b5.chunk.js.map